/*!
 * Copyright (c) 2023 Momo Bassit.
 * Licensed under the MIT License (MIT)
 * https://github.com/mdbassit/Wysi
 */
!function(e,t){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,o={el:"[data-wysi], .wysi-field",tools:["format","|","bold","italic","|",{label:"Text alignment",items:["alignLeft","alignCenter","alignRight","alignJustify"]},"|","ul","ol","|","indent","outdent","|","link","image"],darkMode:!1,height:200,autoGrow:!1,autoHide:!1,allowedTags:{br:{attributes:[],styles:[],isEmpty:!0},p:{attributes:[],styles:[],isEmpty:!1}},customTags:[]},l={format:{tags:["p","h1","h2","h3","h4"],styles:["text-align"],label:"Select block format",paragraph:"Paragraph",heading:"Heading"},quote:{tags:["blockquote"],label:"Quote"},bold:{tags:["strong"],alias:["b"],label:"Bold"},italic:{tags:["em"],alias:["i"],label:"Italic"},underline:{tags:["u"],label:"Underline"},strike:{tags:["s"],alias:["del","strike"],label:"Strike-through",command:"strikeThrough"},alignLeft:{label:"Align left",command:"justifyLeft"},alignCenter:{label:"Align center",command:"justifyCenter"},alignRight:{label:"Align right",command:"justifyRight"},alignJustify:{label:"Justify",command:"justifyFull"},ul:{tags:["ul"],extraTags:["li"],styles:["text-align"],label:"Bulleted list",command:"insertUnorderedList"},ol:{tags:["ol"],extraTags:["li"],styles:["text-align"],label:"Numbered list",command:"insertOrderedList"},indent:{label:"Increase indent"},outdent:{label:"Decrease indent"},link:{tags:["a"],attributes:["href","target"],attributeLabels:["URL","Open link in"],hasForm:!0,formOptions:{target:[{label:"Current tab",value:""},{label:"New tab",value:"_blank"}]},label:"Link"},image:{tags:["img"],attributes:["src","alt"],attributeLabels:["URL","Alternative text"],extraSettings:["size","position"],extraSettingLabels:["Image size","Image position"],styles:["width","display","margin","float"],isEmpty:!0,hasForm:!0,formOptions:{size:[{label:"None",value:"",criterion:null},{label:"100%",value:"100%",criterion:{width:"100%"}},{label:"50%",value:"50%",criterion:{width:"50%"}},{label:"25%",value:"25%",criterion:{width:"25%"}}],position:[{label:"None",value:"",criterion:null},{label:"Left",value:"left",criterion:{float:"left"}},{label:"Center",value:"center",criterion:{margin:"auto"}},{label:"Right",value:"right",criterion:{float:"right"}}]},label:"Image"},hr:{tags:["hr"],isEmpty:!0,label:"Horizontal line",command:"insertHorizontalRule"},removeFormat:{label:"Remove format"},unlink:{label:"Remove link"}},s={},c="wysi-selected",u="wysi-fragment-placeholder",d=["H1","H2","H3","H4"],p=["BLOCKQUOTE","HR","P","OL","UL"].concat(d),f=navigator.userAgent.search(/Gecko\//)>-1,m=function(e,t){return e.dispatchEvent(new Event(t,{bubbles:!0}))},h=function(e,a){return void 0===a&&(a=null),t.execCommand(e,!1,a)},v=function(e,t){return e.classList&&e.classList.contains(t)};function b(e,t,a,i){"string"==typeof a?e.addEventListener(t,(function(e){var t=e.target;t.matches(a)&&i.call(t,e)})):(i=a,e.addEventListener(t,i))}function y(e){var t=w("template");return t.innerHTML=e.trim(),t.content}function g(e){return e?JSON.parse(JSON.stringify(e)):e}function w(e,a){var i=t.createElement(e);if(a)for(var n in a)"_"===n[0]?i[n.substring(1)]=a[n]:i.setAttribute(n,a[n]);return i}function x(e,a){a=void 0!==a?a:[],"loading"!==t.readyState?e.apply(void 0,a):b(t,"DOMContentLoaded",(function(){e.apply(void 0,a)}))}function C(e){var t=[];return H(e).forEach((function(e){var a=e.previousElementSibling;if(a&&v(a,"wysi-wrapper")){var i=a.children,n=i[0],r=i[1],o=E(r);t.push({textarea:e,wrapper:a,toolbar:n,editor:r,instanceId:o})}})),t}function A(e){for(var a,i,n,r=[];e&&e!==t.body;){if(e.tagName){if(v(e,"wysi-wrapper")){a=e;break}r.push(e)}e=e.parentNode}if(a){var o=a.children;i=o[0],n=o[1]}return{toolbar:i,editor:n,nodes:r}}function E(e){return e.dataset.wid}function H(e){return"string"==typeof e?Array.from(t.querySelectorAll(e)):e instanceof Node?[e]:e instanceof NodeList||e instanceof HTMLCollection?Array.from(e):Array.isArray(e)?e.filter((function(e){return e instanceof Node})):[]}function N(e){var a,i=e.parentNode,n=e.id;if("LABEL"===i.nodeName?a=i:void 0!==n&&(a=t.querySelector('label[for="'+n+'"]')),a){var r=[].filter.call(a.childNodes,(function(e){return 3===e.nodeType})).map((function(e){return e.textContent.replace(/\s+/g," ").trim()})).filter((function(e){return""!==e}))[0];if(r)return r}return""}function k(e,t){return r[e]&&r[e][t]?r[e][t]:t}function L(){n&&(z(n),n=void 0)}function S(e){n=e}function z(e){var a=t.getSelection();a.removeAllRanges(),a.addRange(e)}function T(e,t){e.setAttribute("aria-expanded",t)}function M(e,t,a){void 0===a&&(a=[]);var i=l[e];if(i){var n=i.command||e;L(),function(e,t){switch(e){case"quote":t[0]="blockquote";case"format":h("formatBlock","<"+t[0]+">");break;case"link":var a=t[0],i=t[1],n=void 0===i?"":i,r=t[2];if(r)h("insertHTML",'<a href="'+a+'"'+(""!==n?' target="'+n+'"':"")+">"+r+"</a>");break;case"image":var o=[],l=t[0],s=t[1],c=void 0===s?"":s,u=t[2],d=t[3],p=t[4];""!==u&&o.push("width: "+u+";"),""!==d&&("center"===d?o.push("display: block; margin: auto;"):o.push("float: "+d+";"));var f='<img src="'+l+'" alt="'+c+'" class="wysi-selected"'+(o.length>0?' style="'+o.join(" ")+'"':"")+">",m=p?p.replace(/<img[^>]+>/i,f):f;h("insertHTML",m);break;default:h(e)}}(n,a),t.focus()}}function q(e){var t=e.label,a=e.items,i=a[0],n=w("div",{class:["wysi-listbox"].concat(e.classes||[]).join(" ")}),r=w("button",{type:"button",title:t,"aria-label":t+" "+i.label,"aria-haspopup":"listbox","aria-expanded":!1,_innerHTML:B(i)}),o=w("div",{role:"listbox",tabindex:-1,"aria-label":t});return a.forEach((function(e){var t=w("button",{type:"button",role:"option",tabindex:-1,"aria-label":e.label,"aria-selected":!1,"data-action":e.action,"data-option":e.name||"",_innerHTML:B(e)});o.appendChild(t)})),n.appendChild(r),n.appendChild(o),n}function B(e){return e.icon?'<svg><use href="#wysi-'+e.icon+'"></use></svg>':e.label}function O(e){var t="true"===e.getAttribute("aria-expanded"),a=e.nextElementSibling,i=a.querySelector('[aria-selected="true"]');i||(i=a.firstElementChild),T(e,!t),i.focus()}function I(e){var t=e.parentNode,a=t.previousElementSibling,i=t.querySelector('[aria-selected="true"]');i&&i.setAttribute("aria-selected","false"),e.setAttribute("aria-selected","true"),a.innerHTML=e.innerHTML}function R(){var e=t.querySelector('.wysi-listbox [aria-expanded="true"]');e&&T(e,!1)}void 0!==NodeList&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),b(t,"click",".wysi-listbox > button",(function(e){R(),O(e.target)})),b(t,"keydown",".wysi-listbox > button",(function(e){switch(e.key){case"ArrowUp":case"ArrowDown":case"Enter":case" ":O(e.target),e.preventDefault()}})),b(t.documentElement,"mousemove",".wysi-listbox > div > button",(function(e){e.target.focus()})),b(t,"click",".wysi-listbox > div > button",(function(e){var a=e.target,i=a.dataset.action,n=a.dataset.option,r=A(a).editor,o=t.getSelection();o&&r.contains(o.anchorNode)&&M(i,r,[n]),I(a)})),b(t,"keydown",".wysi-listbox > div > button",(function(e){var t=e.target,a=t.parentNode,i=a.previousElementSibling,n=!0;switch(e.key){case"ArrowUp":var r=t.previousElementSibling;r&&r.focus();break;case"ArrowDown":var o=t.nextElementSibling;o&&o.focus();break;case"Home":a.firstElementChild.focus();break;case"End":a.lastElementChild.focus();break;case"Tab":t.click();break;case"Escape":T(i,!1);break;default:n=!1}n&&(e.preventDefault(),e.stopImmediatePropagation())}));var j=!1;b(t,"click",(function(e){j||R()})),b(t,"mousedown",".wysi-listbox > button",(function(e){return j=!0})),b(t,"mouseup",(function(e){return setTimeout((function(){j=!1}))}));var D=0;function V(e){var t=D++,a=w("fieldset",{class:"wysi-segmented"});return a.appendChild(w("legend",{_textContent:e.label})),e.options.forEach((function(i){var n=D++;a.appendChild(w("input",{id:"wysi-seg-"+n,name:"wysi-"+e.toolName+"-"+e.name+"-"+t,type:"radio","data-attribute":e.name,value:i.value})),a.appendChild(w("label",{for:"wysi-seg-"+n,_textContent:k(e.toolName,i.label)}))})),a}function Z(e){var a=e.nextElementSibling.querySelectorAll('input[type="text"]'),n=e.nextElementSibling.querySelectorAll('input[type="radio"]'),r=t.getSelection(),o=r.anchorNode,s=A(o),u=s.editor,d=s.nodes,p={};if(u){var f=e.dataset.action,m=l[f],h=u.querySelector("."+c),v=!1;if(h||(h=d.filter((function(e){return m.tags.includes(e.tagName.toLowerCase())}))[0],v=!0),h){var b=t.createRange();v?b.selectNodeContents(h):b.selectNode(h),S(b),m.attributes.forEach((function(e){p[e]=h.getAttribute(e)})),m.extraSettings&&m.extraSettings.forEach((function(e){for(var t,a=i(m.formOptions[e]);!(t=a()).done;){var n=t.value;if(n.criterion){var r=Object.keys(n.criterion)[0],o=n.criterion[r];if(h.style[r]&&h.style[r]===o){p[e]=n.value;break}}}}))}else r&&u.contains(o)&&r.rangeCount&&S(r.getRangeAt(0))}a.forEach((function(e){e.value=p[e.dataset.attribute]||""})),n.forEach((function(e){var t=p[e.dataset.attribute]||"";e.value===t&&(e.checked=!0)})),T(e,!0),a[0].focus()}function _(e){var t,a,i=e.dataset.action,r=n,o=e.parentNode.querySelectorAll('input[type="text"]'),l=e.parentNode.querySelectorAll('input[type="radio"]'),s=A(e).editor,u=[];if(o.forEach((function(e){u.push(e.value)})),l.forEach((function(e){e.checked&&u.push(e.value)})),"image"===i){var d=s.querySelector("."+c),p=d?d.parentNode:{};d&&"A"===p.tagName&&u.push(p.outerHTML)}else"link"===i&&r&&u.push((t=r.cloneContents(),(a=w("div")).appendChild(t),a.innerHTML));M(i,s,u)}function U(e){var a=t.querySelector('.wysi-popover [aria-expanded="true"]');a&&T(a,!1),e||L()}b(t,"click",".wysi-popover > button",(function(e){U(),Z(e.target)})),b(t,"keydown",".wysi-popover > button",(function(e){switch(e.key){case"ArrowUp":case"ArrowDown":case"Enter":case" ":Z(e.target),e.preventDefault()}})),b(t,"click",".wysi-popover > div > button[data-action]",(function(e){_(e.target),U(!0)})),b(t,"click",".wysi-popover > div > button:not([data-action])",(function(e){U()})),b(t,"click",".wysi-popover *:not(button)",(function(e){e.stopImmediatePropagation()})),b(t,"keydown",".wysi-popover *",(function(e){var t=e.target,a=t.parentNode,i="DIV"===a.tagName?a:a.parentNode;switch(e.key){case"Tab":var n=i.querySelector("input");e.shiftKey?t===n&&(i.lastElementChild.focus(),e.preventDefault()):t.nextElementSibling||t.parentNode.nextElementSibling||(n.focus(),e.preventDefault());break;case"Enter":if("INPUT"===t.tagName)i.querySelector("[data-action]:last-of-type").click(),e.preventDefault();break;case"Escape":U(),e.stopImmediatePropagation()}}));var P=!1;function F(e){var t=w("div",{class:"wysi-toolbar"});return e.forEach((function(e){switch(e){case"|":t.appendChild(w("div",{class:"wysi-separator"}));break;case"-":t.appendChild(w("div",{class:"wysi-newline"}));break;case"format":t.appendChild(function(){var e="format",t=k(e,l.format.label),a=k(e,l.format.paragraph),i=k(e,l.format.heading),n="wysi-format",r=l.format.tags.map((function(e){return{name:e,label:"p"===e?a:i+" "+e.substring(1),action:"format"}}));return q({label:t,items:r,classes:n})}());break;default:"object"==typeof e?e.items&&t.appendChild((i=(a=e).label||k("toolbar","Select an item"),n=a.items.map((function(e){return{label:k(e,l[e].label),icon:e,action:e}})),q({label:i,items:n}))):function(e,t){var a=l[e],i=k(e,a.label),n=w("button",{type:"button",title:i,"aria-label":i,"aria-pressed":!1,"data-action":e,_innerHTML:'<svg><use href="#wysi-'+e+'"></use></svg>'});if(a.hasForm){var r=function(e,t){var a=l[e],i=a.attributeLabels,n=a.attributes.map((function(t,a){return{name:t,label:k(e,i[a])}})),r=w("div",{class:"wysi-popover"}),o=w("div",{tabindex:-1});if(t.setAttribute("aria-haspopup",!0),t.setAttribute("aria-expanded",!1),r.appendChild(t),r.appendChild(o),n.forEach((function(t){if("link"!==e||"target"!==t.name){var a=w("label"),i=w("span",{_textContent:t.label}),n=w("input",{type:"text",name:"wysi-"+t.name,"data-attribute":t.name});a.appendChild(i),a.appendChild(n),o.appendChild(a)}})),"link"===e){var s=n.find((function(e){return"target"===e.name}));s&&(s.toolName=e,s.options=a.formOptions&&a.formOptions.target||[],o.appendChild(w("span",{_textContent:s.label})),o.appendChild(V(s)));var c="unlink",u=k(e,l[c].label);o.appendChild(w("button",{type:"button",title:u,"aria-label":u,"data-action":c,_innerHTML:'<svg><use href="#wysi-delete"></use></svg>'}))}"image"===e&&a.extraSettings.map((function(t,i){return{name:t,label:k(e,a.extraSettingLabels[i])}})).forEach((function(t){t.toolName=e,t.options=a.formOptions&&a.formOptions[t.name]||[],o.appendChild(w("span",{_textContent:t.label})),o.appendChild(V(t))}));var d=w("button",{type:"button",_textContent:k("popover","Cancel")}),p=w("button",{type:"button","data-action":e,_textContent:k("popover","Save")});return o.appendChild(d),o.appendChild(p),r}(e,n);t.appendChild(r)}else t.appendChild(n)}(e,t)}var a,i,n})),t}function J(){var e=t.getSelection(),a=e.anchorNode;if(a){var i=e.getRangeAt(0),n=function(e){for(;null!==e.firstChild;)e=e.firstChild;return e}(i.startContainer.nextElementSibling||i.startContainer),r=A(i.intersectsNode(n)?n:a),o=r.toolbar,l=r.editor,u=r.nodes,d=u.map((function(e){return e.tagName.toLowerCase()}));if(l){var p=l.querySelector("."+c);p&&d.push(p.tagName.toLowerCase());var f=E(l),m=s[f].allowedTags;o.querySelectorAll('[aria-pressed="true"]').forEach((function(e){return e.setAttribute("aria-pressed","false")})),o.querySelectorAll(".wysi-listbox > div > button:first-of-type").forEach((function(e){return I(e)})),d.forEach((function(e,t){switch(e){case"p":case"h1":case"h2":case"h3":case"h4":case"li":var a=o.querySelector('[data-action="format"][data-option="'+e+'"]'),i=u[t].style.textAlign||u[t].getAttribute("align");if(a&&I(a),i){var n="align"+i.charAt(0).toUpperCase()+i.slice(1),r=o.querySelector('[data-action="'+n+'"]');r&&("listbox"===r.parentNode.getAttribute("role")?I(r):r.setAttribute("aria-pressed","true"))}break;default:var l=m[e],s=l?l.toolName:void 0;if(s)o.querySelector('[data-action="'+s+'"]').setAttribute("aria-pressed","true")}}))}}}b(t,"click",(function(e){P||U()})),b(t,"mousedown",".wysi-popover, .wysi-popover *",(function(e){P=!0})),b(t,"mouseup",(function(e){setTimeout((function(){P=!1}))})),b(t,"mousedown",".wysi-editor, .wysi-editor *",(function(e){var a=t.querySelector("."+c);a&&a!==e.target&&a.classList.remove(c)})),b(t,"mousedown",".wysi-editor img",(function(e){var a=e.target,i=t.createRange();a.classList.add(c),i.selectNode(a),z(i)})),b(t,"click",".wysi-toolbar > button",(function(e){var a=e.target,i=a.dataset.action,n=A(a).editor,r=t.getSelection();r&&n.contains(r.anchorNode)&&M(i,n)})),b(t,"selectionchange",J),b(t,"input",".wysi-editor",J),x((function(){var e=y('<svg id="wysi-svg-icons" xmlns="http://www.w3.org/2000/svg"><defs><symbol id="wysi-bold" viewBox="0 0 24 24"><path d="M16.5,9.5A3.5,3.5,0,0,0,13,6H8.5a1,1,0,0,0-1,1V17a1,1,0,0,0,1,1H13a3.49,3.49,0,0,0,2.44-6A3.5,3.5,0,0,0,16.5,9.5ZM13,16H9.5V13H13a1.5,1.5,0,0,1,0,3Zm0-5H9.5V8H13a1.5,1.5,0,0,1,0,3Z"></path></symbol><symbol id="wysi-italic" viewBox="0 0 24 24"><path d="M17,6H11a1,1,0,0,0,0,2h1.52l-3.2,8H7a1,1,0,0,0,0,2h6a1,1,0,0,0,0-2H11.48l3.2-8H17a1,1,0,0,0,0-2Z"></path></symbol><symbol id="wysi-underline" viewBox="0 0 24 24"><path d="M12,15.5a5,5,0,0,0,5-5v-5a1,1,0,0,0-2,0v5a3,3,0,0,1-6,0v-5a1,1,0,0,0-2,0v5A5,5,0,0,0,12,15.5Zm5,2H7a1,1,0,0,0,0,2H17a1,1,0,0,0,0-2Z"></path></symbol><symbol id="wysi-strike" viewBox="0 0 24 24"><path d="M12 6C9.33 6 7.5 7.34 7.5 9.5c0 .58.12 1.07.35 1.5H13c-1.49-.34-3.49-.48-3.5-1.5 0-1.03 1.08-1.75 2.5-1.75s2.5.83 2.5 1.75h2C16.5 7.4 14.67 6 12 6zm-5.5 6c-.67 0-.67 1 0 1h4.35c.5.17 1.04.34 1.65.5.58.15 1.75.23 1.75 1s-.66 1.75-2.25 1.75-2.5-1.01-2.5-1.75h-2c0 1.64 1.33 3.5 4.5 3.5s4.5-2.08 4.5-3.5c0-.58-.05-1.07-.2-1.5h1.2c.67 0 .67-1 0-1z"></path></symbol><symbol id="wysi-alignLeft" viewBox="0 0 24 24"><path d="m4 8h16c1.33 0 1.33-2 0-2h-16c-1.33 0-1.33 2 0 2zm0 5h12c1.33 0 1.33-2 0-2h-12c-1.33 0-1.33 2 0 2zm16 3h-16c-1.33 0-1.33 2 0 2h16c1.34 0 1.29-2 0-2z"></path></symbol><symbol id="wysi-alignCenter" viewBox="0 0 24 24"><path d="m20 8h-16c-1.33 0-1.33-2 0-2h16c1.33 0 1.33 2 0 2zm-4 5h-8c-1.33 0-1.33-2 0-2h8c1.33 0 1.33 2 0 2zm-12 3h16c1.33 0 1.33 2 0 2h-16c-1.34 0-1.29-2 0-2z"></path></symbol><symbol id="wysi-alignRight" viewBox="0 0 24 24"><path d="m20 8h-16c-1.33 0-1.33-2 0-2h16c1.33 0 1.33 2 0 2zm0 5h-12c-1.33 0-1.33-2 0-2h12c1.33 0 1.33 2 0 2zm-16 3h16c1.33 0 1.33 2 0 2h-16c-1.34 0-1.29-2 0-2z"></path></symbol><symbol id="wysi-alignJustify" viewBox="0 0 24 24"><path d="m20 8h-16c-1.33 0-1.33-2 0-2h16c1.33 0 1.33 2 0 2zm0 5h-16c-1.33 0-1.33-2 0-2h16c1.33 0 1.33 2 0 2zm-16 3h16c1.33 0 1.33 2 0 2h-16c-1.34 0-1.29-2 0-2z"></path></symbol><symbol id="wysi-ul" viewBox="0 0 24 24"><path d="M3 6a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1zm4 0a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2H7zm-4 5a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1zm4 0a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2H7zm-4 5a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1zm4 0a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2H7z"></path></symbol><symbol id="wysi-ol" viewBox="0 0 24 24"><path d="M4 5c-.25 0-.5.17-.5.5v3c0 .67 1 .67 1 0v-3c0-.33-.25-.5-.5-.5zm4.5 1c-1.33 0-1.33 2 0 2h12c1.33 0 1.33-2 0-2zm-6 5.5h.75c0-.43.34-.75.75-.75.4 0 .75.28.75.75L2.5 13.25V14h3v-.75H3.75L5.5 12v-.5c0-.9-.73-1.49-1.5-1.5-.77 0-1.5.59-1.5 1.5zm6-.5c-1.33 0-1.33 2 0 2h12c1.33 0 1.33-2 0-2zM4 15c-.83 0-1.5.63-1.5 1.25h.75c0-.28.34-.5.75-.5s.75.22.75.5-.34.5-.75.5v.5c.41 0 .75.22.75.5s-.34.5-.75.5-.75-.22-.75-.5H2.5c0 .62.67 1.25 1.5 1.25s1.5-.5 1.5-1.12c0-.34-.2-.66-.56-.88.35-.2.56-.53.56-.87 0-.62-.67-1.12-1.5-1.12zm4.5 1c-1.33 0-1.33 2 0 2h12c1.33 0 1.33-2 0-2z"></path></symbol><symbol id="wysi-indent" viewBox="0 0 24 24"><path d="m20 8h-15.9c-1.33 0-1.33-2 0-2h15.9c1.33 0 1.33 2 0 2zm2.86e-4 5h-9.08c-1.33 0-1.33-2 0-2h9.08c1.33 0 1.33 2 0 2zm-16.7-3.31c0.356-0.423 0.988-0.477 1.41-0.12l2 1.66c0.483 0.4 0.483 1.14 0 1.54l-2 1.66c-0.179 0.153-0.405 0.238-0.64 0.24-0.297 4.83e-4 -0.58-0.131-0.77-0.36-0.354-0.425-0.296-1.06 0.13-1.41l1.08-0.9-1.08-0.9c-0.426-0.353-0.484-0.985-0.13-1.41zm0.77 6.31h15.9c1.33 0 1.33 2 0 2h-15.9c-1.33 0-1.33-2 0-2z"></path></symbol><symbol id="wysi-outdent" viewBox="0 0 24 24"><path d="m4.1 6c-1.33 0-1.33 2 0 2h15.9c1.33 0 1.33-2 0-2h-15.9zm1.96 3.33c-0.224 0.00238-0.448 0.0803-0.633 0.236l-2 1.66c-0.483 0.4-0.483 1.14 0 1.54l2 1.66c0.179 0.153 0.404 0.238 0.639 0.24 0.297 4.83e-4 0.581-0.131 0.771-0.359 0.354-0.425 0.295-1.06-0.131-1.41l-1.08-0.9 1.08-0.9c0.426-0.353 0.485-0.985 0.131-1.41-0.2-0.238-0.489-0.359-0.777-0.355zm4.88 1.67c-1.33 0-1.33 2 0 2h9.08c1.33 0 1.33-2 0-2h-9.08zm-6.87 5c-1.33 0-1.33 2 0 2h15.9c1.33 0 1.33-2 0-2h-15.9z"></path></symbol><symbol id="wysi-link" viewBox="0 0 24 24"><path d="M8,12a1,1,0,0,0,1,1h6a1,1,0,0,0,0-2H9A1,1,0,0,0,8,12Zm2,3H7A3,3,0,0,1,7,9h3a1,1,0,0,0,0-2H7A5,5,0,0,0,7,17h3a1,1,0,0,0,0-2Zm7-8H14a1,1,0,0,0,0,2h3a3,3,0,0,1,0,6H14a1,1,0,0,0,0,2h3A5,5,0,0,0,17,7Z"></path></symbol><symbol id="wysi-image" viewBox="0 0 24 24"><path d="M6 5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3H6zm0 2h12a1 1 0 0 1 1 1v5.73l-.88-.88a3.06 3.06 0 0 0-4.24 0l-.88.88-2.88-2.88A3.06 3.06 0 0 0 8 10a3.06 3.06 0 0 0-2.12.85l-.88.88V8a1 1 0 0 1 1-1zm1.85 4.98a1 1 0 0 1 .85.27L13.45 17H6a1 1 0 0 1-.98-.92H5v-1.53l2.3-2.3a1 1 0 0 1 .55-.26zm8 2a1 1 0 0 1 .85.27l2.17 2.16c-.19.33-.55.59-.86.59h-1.72l-1.86-1.87.88-.88a1 1 0 0 1 .54-.28z"></path></symbol><symbol id="wysi-quote" viewBox="0 0 24 24"><path d="m9 6c-2.2 0-4 1.96-4 4.36v6c0 0.903 0.672 1.64 1.5 1.64h3c0.828 0 1.5-0.733 1.5-1.64v-3.27c0-0.903-0.672-1.64-1.5-1.64h-1.75c-0.414 0-0.75-0.367-0.75-0.818v-0.273c0-1.2 0.899-2.18 2-2.18h0.5c0.274 0 0.5-0.246 0.5-0.545v-1.09c0-0.298-0.226-0.545-0.5-0.545zm8 0c-2.2 0-4 1.96-4 4.36v6c0 0.903 0.672 1.64 1.5 1.64h3c0.828 0 1.5-0.733 1.5-1.64v-3.27c0-0.903-0.672-1.64-1.5-1.64h-1.75c-0.414 0-0.75-0.367-0.75-0.818v-0.273c0-1.2 0.899-2.18 2-2.18h0.5c0.274 0 0.5-0.246 0.5-0.545v-1.09c0-0.298-0.226-0.545-0.5-0.545z"></path></symbol><symbol id="wysi-hr" viewBox="0 0 24 24"><path d="m20 11h-16c-1.33 0-1.33 2 0 2 0 0 16-0.018 16 0 1.33 0 1.33-2 0-2z"></path></symbol><symbol id="wysi-removeFormat" viewBox="0 0 24 24"><path d="M7 6C5.67 6 5.67 8 7 8h3l-2 7c0 .02 2 0 2 0l2-7h3c1.33 0 1.33-2 0-2H7zm7.06 7c-.79-.04-1.49.98-.75 1.72l.78.78-.78.79c-.94.93.47 2.35 1.4 1.4l.79-.78.78.79c.94.93 2.35-.47 1.41-1.41l-.78-.79.78-.78c.94-.94-.47-2.35-1.4-1.41l-.8.79-.77-.79a.99.99 0 0 0-.66-.3zM7 16c-1.33 0-1.33 2 0 2 .02-.02 4 0 4 0 1.33 0 1.33-2 0-2H7z"></path></symbol><symbol id="wysi-delete" viewBox="0 0 24 24"><path d="M10,18a1,1,0,0,0,1-1V11a1,1,0,0,0-2,0v6A1,1,0,0,0,10,18ZM20,6H16V5a3,3,0,0,0-3-3H11A3,3,0,0,0,8,5V6H4A1,1,0,0,0,4,8H5V19a3,3,0,0,0,3,3h8a3,3,0,0,0,3-3V8h1a1,1,0,0,0,0-2ZM10,5a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1V6H10Zm7,14a1,1,0,0,1-1,1H8a1,1,0,0,1-1-1V8H17Zm-3-1a1,1,0,0,0,1-1V11a1,1,0,0,0-2,0v6A1,1,0,0,0,14,18Z"></path></symbol></defs></svg>');t.body.appendChild(e)}));var G="style",W="align";function K(e,t,a){var i=w("div"),n=y(e);return X(n,t),a||(!function(e){var t=Array.from(e.childNodes);if(!t||!t.length)return;var a=!1;t.forEach((function(e){if(3!==e.nodeType&&p.includes(e.tagName))a=!1;else if(a){var t=e.previousElementSibling;t&&t.appendChild(e)}else Q(e,"p"),a=!0}))}(n),Y(n,t)),i.appendChild(n),i.innerHTML}function Q(e,t,a){var i=w(t),n=e.parentNode,r=e.attributes;if(i.innerHTML=e.innerHTML||e.textContent||e.outerHTML,a&&r)for(var o=0;o<r.length;o++)i.setAttribute(r[o].name,r[o].value);n.replaceChild(i,e)}function $(e,t){var a=e.getAttribute(G);if(a){var i=a.split(";").map((function(e){var t=e.split(":");return{name:t[0].trim(),value:t[1]}})).filter((function(e){return t.includes(e.name)})).filter((function(e){return"text-align"!==e.name||"left"!==e.value.trim()})).map((function(e){return e.name+": "+e.value.trim()+";"})).join("");""!==i?e.setAttribute(G,i):e.removeAttribute(G)}}function X(e,t){var a=Array.from(e.childNodes);a&&a.length&&a.forEach((function(a){if(1===a.nodeType){X(a,t);var n=a.tagName.toLowerCase(),r=t[n],o=Array.from(a.attributes),l=a.getAttribute(W);if(r){for(var s=r.attributes||[],c=r.styles||[],u=0;u<o.length;u++){var d=o[u].name;s.includes(o[u].name)||(d===W&&"left"!==l&&(a.style.textAlign=l),d===G&&c.length?$(a,c):a.removeAttribute(o[u].name))}r.alias&&Q(a,r.alias,!0)}else if("style"===n)e.removeChild(a);else{if(null!==l)if(a.parentNode&&"LI"===a.parentNode.tagName)a.parentNode.style.textAlign=l;else for(var p,f=i(a.childNodes);!(p=f()).done;){p.value.style.textAlign=l}a.replaceWith.apply(a,a.childNodes)}}else 8===a.nodeType&&e.removeChild(a)}))}function Y(e,t){var a=Array.from(e.childNodes);a&&a.length&&a.forEach((function(a){if(1===a.nodeType){Y(a,t);var i=a.tagName.toLowerCase(),n=t[i];n&&!n.isEmpty&&""===a.innerHTML.replace(/^\s+|\s+$/g,"").trim()&&e.removeChild(a)}}))}var ee=0;function te(t){var a=e.wysiGlobalTranslations||{};!function(e){r=e}(Object.assign({},a,t.translations||{}));var i=t.tools||o.tools,n=H(t.el||o.el),c=F(i),u=function(e){var t=g(o.allowedTags);return e.forEach((function(e){var a=g(l[e]);if(a&&a.tags){var i=!!a.isEmpty,n=a.extraTags||[],r=a.alias||[],o=r.length?a.tags[0]:void 0,s=[].concat(a.tags,n,r),c=a.attributes||[],u=a.styles||[];s.forEach((function(a){t[a]={attributes:c,styles:u,alias:o,isEmpty:i},n.includes(a)||(t[a].toolName=e)}))}})),t}(i);(t.customTags||[]).forEach((function(e){if(e.tags){var t=e.attributes||[],a=e.styles||[],i=!!e.isEmpty;e.tags.forEach((function(e){u[e]={attributes:t,styles:a,isEmpty:i}}))}})),n.forEach((function(e){var a=e.previousElementSibling;if(a&&v(a,"wysi-wrapper"))ae(a,t);else{var i=ee++;s[i]=t,s[i].allowedTags=g(u);var n=w("div",{class:"wysi-wrapper"}),r=w("div",{class:"wysi-editor",contenteditable:!0,role:"textbox","aria-multiline":!0,"aria-label":N(e),"data-wid":i,_innerHTML:K(e.value,u)});n.appendChild(c.cloneNode(!0)),n.appendChild(r),e.before(n),ae(n,t)}}))}function ae(e,t){if("object"==typeof t)for(var a in t)switch(a){case"darkMode":case"autoGrow":case"autoHide":e.classList.toggle("wysi-"+a.toLowerCase(),!!t[a]);break;case"height":var i=t.height;if(!isNaN(i)){var n=e.lastChild;n.style.minHeight=i+"px",n.style.maxHeight=i+"px"}}}function ie(e,t,a,i,n){var r=s[a],o=K(i,r.allowedTags),l=r.onChange;!0===n&&(t.innerHTML=o),e.value=o,m(e,"change"),l&&l(o)}function ne(e){for(var t,a=i(C(e));!(t=a()).done;){var n=t.value,r=n.instanceId,o=n.wrapper;delete s[r],o.remove()}}function re(e,t){for(var a,n=i(C(e));!(a=n()).done;){var r=a.value;ie(r.textarea,r.editor,r.instanceId,t,!0)}}function oe(e){var t=A(e.target),a=t.editor,i=t.nodes,n=e.clipboardData;if(a&&n.types.includes("text/html")){var r=n.getData("text/html"),o=E(a),l=K(r,s[o].allowedTags),c=i.filter((function(e){return d.includes(e.tagName)})).length>0;if(c&&!f){var m='<h1 class="'+u+'"><br></h1><p class="'+u+'"><br></p>';l=m+l+m}h("insertHTML",l),c&&!f&&(a.querySelectorAll("."+u).forEach((function(e){e.remove()})),a.querySelectorAll(d.join()).forEach((function(e){var t=e.firstElementChild;t&&p.includes(t.tagName)&&e.replaceWith.apply(e,e.childNodes)}))),e.preventDefault()}}e.Wysi=function(){var e={destroy:ne,setContent:re};function t(e){x((function(){te(e||{})}))}var a=function(a){t[a]=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];x(e[a],i)}};for(var i in e)a(i);return t}(),x((function(){h("styleWithCSS",!1),h("enableObjectResizing",!1),h("enableInlineTableEditing",!1),h("defaultParagraphSeparator","p"),b(t,"input",".wysi-editor",(function(e){var t=e.target;ie(t.parentNode.nextElementSibling,t,E(t),t.innerHTML)})),b(t,"paste",oe)}))}(window,document);
//# sourceMappingURL=wysi.min.js.map
